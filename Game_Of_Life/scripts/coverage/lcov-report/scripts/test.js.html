<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for scripts\test.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">scripts\test.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(71 / 71)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(10 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(71 / 71)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">scripts/</a> &#187; test.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">20</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-yes">10000</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var main = require('./logic.js');
var should = require('chai').should();
describe('Testing getNeighbour function', function () {
	it('in a given 5x5 map', function () {
		main.initializeMap(5, 5, 0);
		for(var i = 1; i &lt; 5; i++){
			(main.map)[i][0] = !(main.map)[i - 1][0];
		}
		for(var i = 0; i &lt; 5; i++){
			for(var j = 1; j &lt; 5; j++)
				(main.map)[i][j] = !(main.map)[i][j - 1];
		}
		main.getNeighbour(0, 0).should.equal(4);
		main.getNeighbour(1, 1).should.equal(6);
		main.getNeighbour(0, 1).should.equal(3);
		main.getNeighbour(2, 2).should.equal(4);
		main.getNeighbour(2, 3).should.equal(3);
		main.getNeighbour(4, 4).should.equal(4);
		main.getNeighbour(1, 4).should.equal(3);
	});
	it('in a randomly generated 5x5 map', function () {
		for(var i = 0; i &lt; 10; i++){
			main.initializeMap(5, 5, 0.5);
			num = (main.map)[0][2] + (main.map)[1][2] + (main.map)[3][2] + (main.map)[4][2] + (main.map)[2][0] + (main.map)[2][1] + (main.map)[2][3] + (main.map)[2][4];
			main.getNeighbour(2, 2).should.equal(num);
		}
	});
});
&nbsp;
describe('Testing grow function', function () {
	it('in a given 5x5 map', function () {
		main.initializeMap(5, 5, 0);
		for(var i = 1; i &lt; 5; i++){
			(main.map)[i][0] = !(main.map)[i - 1][0];
		}
		for(var i = 0; i &lt; 4; i++){
			for(var j = 1; j &lt; 5; j++)
				(main.map)[i][j] = !(main.map)[i][j - 1];
		}
		main.grow();
		(main.map)[2][3].should.equal(true);
		(main.map)[2][4].should.equal(0);
		(main.map)[2][2].should.equal(0);
		(main.map)[2][1].should.equal(true);
		(main.map)[1][3].should.equal(0);
		(main.map)[0][3].should.equal(true);
		(main.map)[4][3].should.equal(0);
	});
});
&nbsp;
describe('Testing reset function', function () {
	it('after reseting a randomly generated 100x100 map', function () {
		main.initializeMap(100, 100, 0.5);
		main.reset();
		for(var i = 0; i &lt; 100; i++)
			for(var j = 0; j &lt; 100; j++)
				(main.map)[2][3].should.equal(0);
	});
});
&nbsp;
describe('Testing initializeMap function', function () {
	it('testing setting effectivity', function () {
		main.initializeMap(100, 100, 0.5);
		main.returnWidth().should.equal(100);
		main.returnHeight().should.equal(100);
		main.returnRate().should.equal(0.5);
&nbsp;
		main.initializeMap(30, 77, 0.6);
		main.returnWidth().should.equal(30);
		main.returnHeight().should.equal(77);
		main.returnRate().should.equal(0.6);
&nbsp;
		main.initializeMap(12, 73, 0.1);
		main.returnWidth().should.equal(12);
		main.returnHeight().should.equal(73);
		main.returnRate().should.equal(0.1);
&nbsp;
		main.initializeMap(63, 23, 0.33);
		main.returnWidth().should.equal(63);
		main.returnHeight().should.equal(23);
		main.returnRate().should.equal(0.33);
	});
	it('testing random rate generation effectivity', function () {
		for(var i = 0; i &lt; 10; i++){
			rate = Math.random();
			var num = 0;
			for(var j = 0; j &lt; 10; j++){
				main.initializeMap(100, 100, rate);
				num += main.returnLives();
			}
			((num / (100 * 100 * 10)) / rate).should.be.within(0.98, 1.02);
		}
	});
});</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun Oct 11 2015 20:30:01 GMT+0800 (中国标准时间)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
